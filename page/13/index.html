<!DOCTYPE html>
<html lang="zh-TW">
    <head>
	<meta name="generator" content="Hugo 0.110.0">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title></title><meta name="Description" content="This is 資安工作筆記"><meta property="og:title" content="" />
<meta property="og:description" content="This is 資安工作筆記" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://amingosec.github.io/" /><meta property="og:site_name" content="資安工作筆記" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="This is 資安工作筆記"/>
<meta name="application-name" content="資安工作筆記">
<meta name="apple-mobile-web-app-title" content="資安工作筆記"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://amingosec.github.io/" /><link rel="alternate" href="/index.xml" type="application/rss+xml" title="">
    <link rel="feed" href="/index.xml" type="application/rss+xml" title=""><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https:\/\/amingosec.github.io\/","inLanguage": "zh-TW","description": "This is 資安工作筆記","name": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="">資安工作筆記</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="">資安工作筆記</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="page home" data-home="posts"><div class="home-profile"><div class="home-subtitle">資訊安全相關內容分享</div></div>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/about-ports-135-137-138-139-445-comments/">Network-135、137、138、139、445說明</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Author</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-05-05">2021-05-05</time></span></div><div class="content">Network-一些常用的埠號 port number – 資安工作筆記 - Feb 1, 2022
[…] Network-135、137、138、139、445說明 […]
[…] Network-135、137、138、139、445說明 […]</div><div class="post-footer">
        <a href="/posts/about-ports-135-137-138-139-445-comments/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/cifs/">CIFS</a>,&nbsp;<a href="/tags/%E7%B6%B2%E8%B7%AF%E7%AE%A1%E7%90%86/">網路管理</a>,&nbsp;<a href="/tags/netbios/">NetBIOS</a>,&nbsp;<a href="/tags/network/">Network</a>,&nbsp;<a href="/tags/smb/">SMB</a>,&nbsp;<a href="/tags/wins/">WINS</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/about-ports-135-137-138-139-445/">Network-135、137、138、139、445說明</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Author</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-05-05">2021-05-05</time></span></div><div class="content">這5個 Port 在工作上時不時會遇到，在一知半解的狀況下，常常會沒辦法判斷真時的發生狀況。因此參考網路上的介紹做一些整理，希望能這對這些Port有更多瞭解。
TCP/135 RPC 在許多「網管」眼裡，135埠是最讓人捉摸不透的埠，因為他們中的大多數都無法明確地了解到135埠的真正作用，也不清楚該埠到底會有哪些潛在的危險。直到一種名為「IEen」的專業遠程控制工具出現，人們才清楚135埠究竟會有什麼樣的潛在安全威脅。
IEen工具能夠藉助135埠輕鬆連接到Internet上的其他工作站，並遠程控制該工作站的IE瀏覽器。例如，在瀏覽器中執行的任何操作，包括瀏覽頁面內容、輸入帳號密碼、輸入搜索關鍵字等，都會被IEen工具監控到。甚至在網上銀行中輸入的各種密碼信息，都能被IEen工具清楚地獲得。除了可以對遠程工作站上的IE瀏覽器進行*作、控制外，IEen工具通過135埠幾乎可以對所有的藉助DCOM開發技術設計出來的應用程式進行遠程控制，例如 IEen工具也能輕鬆進入到正在運行Excel的計算機中，直接對Excel進行各種編輯*作。
怎麼樣？135埠對外開放是不是很危險呀？當然，這種危險畢竟是理論上的，要想真正地通過135埠入侵其他系統，還必須提前知道對方的IP位址、帳號和密碼等。只要你嚴格保密好這些資訊，你的計算機被IEen工具攻擊的可能性幾乎不存在。
為什麼IEen工具能利用135埠攻擊其他計算機呢？原來該工具採用了一種DCOM技術，可以直接對其他工作站的DCOM程序進行遠程控制。DCOM技術與對方計算機進行通信時，會自動調用目標主機中的RPC服務，而RPC服務將自動詢問目標主機中的135埠，當前有哪些埠可以被用來通信。如此一來，目標主機就會提供一個可用的服務埠作為數據傳輸通道使用。在這一通信過程中，135埠的作用其實就是為RPC通信提供一種服務埠的映射功能。說簡單一點，135埠就是RPC通信中的橋樑。
NetBIOS (Network Basic Input/Output System) 簡介 在討論port 137/138/139前，有必要簡單說一下NetBIOS協定，他是由IBM發展的網路通訊協定。NetBIOS提供以下三種功能。
Name Service：主要功能類似DNS，提供IP與Hostname的註冊與對應解析。 Datagram：透過unicast、multicast 和 broadcast 提供無需連線，不可信賴的訊息傳遞。 Session：相較於Datagram，Session提供了點對點，可信類的訊息傳遞。 上述NetBIOS的三個功能就分別對應了port 137/138/139。
NetBIOS Service
Port
Name service
port 137/TCP and port 137/UDP
Datagram service
port 138/UDP
Session service
port 139/TCP
TCP/UDP 137 NetBIOS-NS 如前面所說，NetBIOS-NS主要作用是在區域網中提供computer的hostname與IP位址註冊與查詢服務，一般安裝了NetBIOS協議後，會自動處於開放狀態。在Windows 系統中使用 Windows Internet Name Service (WINS)來提供此功能。
要是非法入侵者知道目標主機的IP位址，並向該地址的137埠發送一個連接請求時，就可能獲得目標主機的相關名稱訊息。例如目標主機的hostname，註冊該目標主機的用戶信息，目標主機本次開機、關機時間等。此外非法入侵者還能知道目標主機是否是作為文件伺服器或主域控制器來使用。
NetBIOS-NS較常的見的為對廣播IP 137 Port進行連線，用以發現各台電腦。同時也有針對特定IP進行詢問的方式，進一步可去瞭解NetBIOS的節點類型。
UDP 138 NetBIOS-Datagram 如前面所說，NetBIOS-Datagram 透過unicast、multicast 和 broadcast 提供無需連線，不可信賴的訊息傳遞。
TCP/139 NetBIOS-Session 139埠是一種TCP埠，該埠在你通過網上鄰居訪問區域網中的共享文件或共享印表機時就能發揮作用。</div><div class="post-footer">
        <a href="/posts/about-ports-135-137-138-139-445/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/cifs/">CIFS</a>,&nbsp;<a href="/tags/%E7%B6%B2%E8%B7%AF%E7%AE%A1%E7%90%86/">網路管理</a>,&nbsp;<a href="/tags/netbios/">NetBIOS</a>,&nbsp;<a href="/tags/network/">Network</a>,&nbsp;<a href="/tags/smb/">SMB</a>,&nbsp;<a href="/tags/wins/">WINS</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/netcat-nc-commands-comments/">工具介紹-Netcat指令</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Author</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-05-04">2021-05-04</time></span></div><div class="content">工具介紹-hping 使用 – 資安工作筆記 - Feb 0, 2022
[…] 工具介紹-Netcat指令 […]
[…] 工具介紹-Netcat指令 […]</div><div class="post-footer">
        <a href="/posts/netcat-nc-commands-comments/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E8%B3%87%E8%A8%8A%E5%AE%89%E5%85%A8/">資訊安全</a>,&nbsp;<a href="/tags/netcat/">netcat</a>,&nbsp;<a href="/tags/red-team/">red team</a>,&nbsp;<a href="/tags/%E6%BB%B2%E9%80%8F%E6%B8%AC%E8%A9%A6/">滲透測試</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/netcat-nc-commands/">工具介紹-Netcat指令</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Author</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-05-04">2021-05-04</time></span></div><div class="content">netcat 可分兩種執行模式client mode和server mode。可以使用client mode去確認TCP/UDP port是否開啟。
跟遠端主機特定Port建立連線 確認是特定主機3389 Port是否有開，有時可以取代telnet
nc -nv 192.168.0.1 3389 -n 表示不解析名稱 -v 表示所給的值 在本機監聽特定Port的連線 以下指令在本機8080port
nc -nlvp 8080 延伸閱讀 工具介紹-nmap使用 工具介紹-hping 使用 參考文章 https://blog.gtwang.org/linux/linux-utility-netcat-examples https://myapollo.com.tw/zh-tw/linux-command-nc/ </div><div class="post-footer">
        <a href="/posts/netcat-nc-commands/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E8%B3%87%E8%A8%8A%E5%AE%89%E5%85%A8/">資訊安全</a>,&nbsp;<a href="/tags/netcat/">netcat</a>,&nbsp;<a href="/tags/red-team/">red team</a>,&nbsp;<a href="/tags/%E6%BB%B2%E9%80%8F%E6%B8%AC%E8%A9%A6/">滲透測試</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/windows-ir-comments/">在 Windows 系統上進行Incident Response 的重點</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Author</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-05-04">2021-05-04</time></span></div><div class="content">資訊安全-Windows Event Log位置 – 資安工作筆記 - Feb 1, 2022
[…] Windows IR 方向 […]
[…] Windows IR 方向 […]
[…] 資安鑑識-Windows IR 方向 […]</div><div class="post-footer">
        <a href="/posts/windows-ir-comments/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/ediscovery/">eDiscovery</a>,&nbsp;<a href="/tags/%E8%B3%87%E8%A8%8A%E5%AE%89%E5%85%A8/">資訊安全</a>,&nbsp;<a href="/tags/%E8%B3%87%E5%AE%89%E7%94%A2%E5%93%81/">資安產品</a>,&nbsp;<a href="/tags/%E8%B3%87%E5%AE%89%E9%91%91%E8%AD%98/">資安鑑識</a>,&nbsp;<a href="/tags/incident-response/">Incident Response</a>,&nbsp;<a href="/tags/windows/">Windows</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/windows-ir/">在 Windows 系統上進行Incident Response 的重點</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Author</a></span>&nbsp;<span class="post-publish">published on <time datetime="2021-05-04">2021-05-04</time></span></div><div class="content">在這篇文章整理一下平時在 Windows 主機上進行 incident response (IR)時會注意的幾個重點。還是要提醒一下 IR 與鑑識是有差距的，其中差別會包含到在法院上證據力的呈現，如果要進行鑑識時，請找有通過驗證的實驗室進行，相關內容就不在這篇文章中說明。
在進行 Windows 主機上 IR 時主要可以分為以下幾個方向。
Windows Event Log 帳戶 網路連線 Process 啟動與Serveice 工作排程 檔案 註冊檔 檢查 Windwos Event Log Windows提供日誌功能，將主機執行行為進行記錄。日誌記錄的內容受稽核原則的設定值掌控，除了預設開啟的內容，微軟有另行建議可開啟的稽核內容，可參考微軟建議-監控AD受駭跡證。
在 Windows Event Log 分析時可以檢查的幾個重點：
系統登出入 Log Process Log PowerShell Log Application Log 防毒軟體 Log 防火牆 Log 遠端登入事件 分析遠端登入事件可參考Tracking and Analyzing Remote Desktop Activity Logs in Windows
Process執行分析 分析Event ID 4688，可注意有沒有異常的parent process 呼叫行為。
GUI 的日誌工具 針對windows log除了使用預設的event viewer外，event log explorer 也是較多人使用的工具。
https://eventlogxp.com</div><div class="post-footer">
        <a href="/posts/windows-ir/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/ediscovery/">eDiscovery</a>,&nbsp;<a href="/tags/%E8%B3%87%E8%A8%8A%E5%AE%89%E5%85%A8/">資訊安全</a>,&nbsp;<a href="/tags/%E8%B3%87%E5%AE%89%E7%94%A2%E5%93%81/">資安產品</a>,&nbsp;<a href="/tags/%E8%B3%87%E5%AE%89%E9%91%91%E8%AD%98/">資安鑑識</a>,&nbsp;<a href="/tags/incident-response/">Incident Response</a>,&nbsp;<a href="/tags/windows/">Windows</a></div></div>
</article><ul class="pagination"><li class="page-item ">
                    <span class="page-link">
                        <a href="/">1</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link" aria-hidden="true">&hellip;</span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/11/">11</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/12/">12</a>
                    </span>
                </li><li class="page-item active">
                    <span class="page-link">
                        <a href="/page/13/">13</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/14/">14</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/15/">15</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link" aria-hidden="true">&hellip;</span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/36/">36</a>
                    </span>
                </li></ul></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.110.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"twemoji":true};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
